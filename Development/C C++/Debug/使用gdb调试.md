### gcc生成调试信息

如果我们要调试源码的话，最好使用gcc编译的时候需要生成调试信息，否则只能进行汇编级别的调试

gcc调试选项可以使用-g和-ggdb，-g生成的是通用调试信息，而-ggdb生成的是gdb专用的调试信息

还可以生成不同级别的调试信息，如：

-g1：级别1，不包含局部变量和与行号有关的调试信息，因此只能够用于回溯
跟踪和堆栈转储之用。

-g2：级别2，这是默认的级别，此时产生的调试信息包括扩展的符号表、行号、局部
或外部变量信息。

-g3：级别3，包含级别2中的所有调试信息，以及源代码中定义的宏

### gdb调试

启动gdb进入调试模式

```
gdb
```

使用`file`命令载入需要调试的程序

```
(gdb) file a.out
```

也可以直接启动并载入程序

```
gdb a.out
```

使用`b`命令设置断点(Breakpoint)

```
(gdb) b main  //在main函数入口除设置断点
(gdb) b 13  //在第13行设置断点
```

使用`d`命令删除断点(Delete breakpoint)

```
(gdb) d 2  //删除第二个断点
```

使用`r`命令开始执行调试(Run)

```
(gdb) r  //执行到第一个断点处，如果没有断点将执行到程序结束
```

使用`s`，`n`命令执行单步调试(Step)

```
(gdb) s  //执行一行，如果有函数则进入函数，类似于(Step Into)
(gdb) n  //执行一行，如果有函数，直接返回函数执行结果，类似于(Step Over)
```

使用`c`命令继续执行调试(Continue)

```
(gdb) c  //继续执行到下一个断点
```

使用`p`命令打印指定变量的值(Print)

```
(gdb) p i  //打印i变量的值
```

使用`q`命令退出gdb调试(Quit)

```
(gdb) q  //退出gdb
```



[ GDB十分钟教程](https://blog.csdn.net/liigo/article/details/582231)